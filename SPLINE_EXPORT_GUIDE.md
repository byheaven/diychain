# Spline 3D æ¨¡å‹å¯¼å‡ºæŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ å°† Spline è®¾è®¡çš„ 3D ç å­å¯¼å‡ºä¸º GLB æ ¼å¼ï¼Œå¹¶åœ¨ DIY Chain é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œä¿ç•™æ‰€æœ‰åå…‰æ•ˆæœå’Œæè´¨å±æ€§ã€‚

## ğŸ“‹ å‰ç½®å‡†å¤‡

- âœ… Spline è´¦å·ï¼ˆå…è´¹ç‰ˆå³å¯ï¼‰
- âœ… ä½ çš„ Spline 3D ç å­è®¾è®¡
- âœ… æµè§ˆå™¨è®¿é—® https://spline.design

---

## ğŸ¯ ç¬¬ä¸€æ­¥ï¼šåœ¨ Spline ä¸­å¯¼å‡º GLB

### 1.1 æ‰“å¼€ä½ çš„ Spline é¡¹ç›®

è®¿é—®ä½ çš„ Spline åœºæ™¯ï¼š
```
https://app.spline.design/file/oe9YfFvwl4U5Bzxm
```

æˆ–è€…é€šè¿‡ Spline ç½‘ç«™æ‰“å¼€ä½ çš„é¡¹ç›®ã€‚

### 1.2 å¯¼å‡ºä¸º GLB æ ¼å¼

1. **ç‚¹å‡»å³ä¸Šè§’çš„ Export æŒ‰é’®**ï¼ˆå¯¼å‡ºæŒ‰é’®ï¼Œå›¾æ ‡åƒä¸€ä¸ªå‘ä¸‹çš„ç®­å¤´ï¼‰

2. **é€‰æ‹© GLB æ ¼å¼**
   - åœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹© `GLB`
   - **ä¸è¦é€‰æ‹©** `GLTF` æˆ–å…¶ä»–æ ¼å¼
   - GLB æ˜¯å•æ–‡ä»¶æ ¼å¼ï¼ŒåŒ…å«æ‰€æœ‰çº¹ç†å’Œæè´¨

3. **å¯¼å‡ºè®¾ç½®ï¼ˆæ¨èï¼‰**
   ```
   âœ… Include Textures (åŒ…å«çº¹ç†)
   âœ… Include Materials (åŒ…å«æè´¨)
   âœ… Draco Compression (å‹ç¼©ï¼Œå¯é€‰)
   ```

4. **ä¸‹è½½æ–‡ä»¶**
   - ç‚¹å‡» `Download` ä¸‹è½½
   - æ–‡ä»¶åç¤ºä¾‹ï¼š`scene.glb` æˆ– `my-bead.glb`

### 1.3 é‡å‘½åæ–‡ä»¶ï¼ˆæ¨èï¼‰

ä¸ºäº†ä¾¿äºç®¡ç†ï¼Œå»ºè®®é‡å‘½åï¼š
```bash
scene.glb  â†’  bead-pink.glb       # ç¬¬ä¸€ä¸ªç å­ï¼ˆç²‰è‰²ï¼‰
scene.glb  â†’  bead-purple.glb     # ç¬¬äºŒä¸ªç å­ï¼ˆç´«è‰²ï¼‰
```

---

## ğŸ“ ç¬¬äºŒæ­¥ï¼šæ”¾ç½® GLB æ–‡ä»¶åˆ°é¡¹ç›®ä¸­

### 2.1 åˆ›å»º models ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰

```bash
mkdir -p public/models
```

### 2.2 å¤åˆ¶ GLB æ–‡ä»¶

å°†ä¸‹è½½çš„ GLB æ–‡ä»¶å¤åˆ¶åˆ°é¡¹ç›®ç›®å½•ï¼š

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨å‘½ä»¤è¡Œ
cp ~/Downloads/bead-pink.glb public/models/
cp ~/Downloads/bead-purple.glb public/models/

# æ–¹æ³•2ï¼šä½¿ç”¨ Finderï¼ˆmacOSï¼‰
# ç›´æ¥æ‹–æ‹½æ–‡ä»¶åˆ° public/models/ æ–‡ä»¶å¤¹
```

### 2.3 ç¡®è®¤æ–‡ä»¶ä½ç½®

ä½ çš„æ–‡ä»¶ç»“æ„åº”è¯¥æ˜¯ï¼š
```
diychain/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ models/
â”‚       â”œâ”€â”€ bead-pink.glb      â† ç¬¬ä¸€ä¸ªç å­
â”‚       â””â”€â”€ bead-purple.glb    â† ç¬¬äºŒä¸ªç å­
â”œâ”€â”€ src/
â””â”€â”€ ...
```

---

## âš™ï¸ ç¬¬ä¸‰æ­¥ï¼šæ›´æ–°ç å­é…ç½®

### 3.1 ç¼–è¾‘ç å­æ•°æ®æ–‡ä»¶

æ‰“å¼€æ–‡ä»¶ï¼š`src/app/editor/page.tsx`

æ‰¾åˆ°ä¸¤ä¸ª Spline ç å­çš„é…ç½®ï¼ˆå¤§çº¦åœ¨ç¬¬ 115-140 è¡Œï¼‰ï¼š

```typescript
{
  id: "9",
  name: "æ¢¦å¹»æ˜Ÿå…‰ç ",
  material: "glass",
  shape: "spline",
  baseColor: "#FF6DAF",
  sizeMm: 12,
  weightG: 0.6,
  splineUrl: "https://prod.spline.design/oe9YfFvwl4U5Bzxm/scene.splinecode", // â† ä¿®æ”¹è¿™é‡Œ
  priceCents: 1000,
  isActive: true,
  createdAt: new Date().toISOString(),
},
{
  id: "10",
  name: "ç´«ç½—å…°å¹»ç ",
  material: "crystal",
  shape: "spline",
  baseColor: "#B48CFF",
  sizeMm: 14,
  weightG: 0.7,
  splineUrl: "https://prod.spline.design/another-scene/scene.splinecode", // â† ä¿®æ”¹è¿™é‡Œ
  priceCents: 1200,
  isActive: true,
  createdAt: new Date().toISOString(),
},
```

### 3.2 ä¿®æ”¹ splineUrl

å°† `splineUrl` æ”¹ä¸º GLB æ–‡ä»¶è·¯å¾„ï¼š

```typescript
{
  id: "9",
  name: "æ¢¦å¹»æ˜Ÿå…‰ç ",
  // ... å…¶ä»–å±æ€§ä¿æŒä¸å˜
  splineUrl: "/models/bead-pink.glb",  // âœ… æ”¹ä¸º GLB è·¯å¾„
  // ...
},
{
  id: "10",
  name: "ç´«ç½—å…°å¹»ç ",
  // ... å…¶ä»–å±æ€§ä¿æŒä¸å˜
  splineUrl: "/models/bead-purple.glb",  // âœ… æ”¹ä¸º GLB è·¯å¾„
  // ...
},
```

### 3.3 ä¿å­˜æ–‡ä»¶

æŒ‰ `Cmd+S` (macOS) æˆ– `Ctrl+S` (Windows) ä¿å­˜æ–‡ä»¶ã€‚

---

## ğŸ¨ ç¬¬å››æ­¥ï¼šæŸ¥çœ‹æ•ˆæœ

### 4.1 åˆ·æ–°æµè§ˆå™¨

å¼€å‘æœåŠ¡å™¨ä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘ï¼Œè®¿é—®ï¼š
```
http://localhost:3000/editor
```

### 4.2 æ£€æŸ¥ç å­

1. åœ¨å·¦ä¾§ç å­åˆ—è¡¨ä¸­æ‰¾åˆ° "æ¢¦å¹»æ˜Ÿå…‰ç " å’Œ "ç´«ç½—å…°å¹»ç "
2. æ‹–æ‹½åˆ°ä¸­é—´çš„ 3D ç”»å¸ƒ
3. ä½ åº”è¯¥èƒ½çœ‹åˆ°ï¼š
   - âœ¨ **å®Œæ•´çš„ Spline 3D æ¨¡å‹**
   - ğŸŒŸ **æ‰€æœ‰åå…‰æ•ˆæœ**
   - ğŸ’ **åŸå§‹æè´¨å±æ€§**
   - ğŸ­ **é˜´å½±å’Œé«˜å…‰**

---

## ğŸ”§ å¸¸è§é—®é¢˜

### â“ æ¨¡å‹å¤ªå¤§æˆ–å¤ªå°ï¼Ÿ

ä»£ç ä¼šè‡ªåŠ¨ç¼©æ”¾ï¼Œä½†å¦‚æœéœ€è¦æ‰‹åŠ¨è°ƒæ•´ï¼š

ç¼–è¾‘ `src/components/editor/spline-bead-mesh.tsx`ï¼Œæ‰¾åˆ°ç¬¬ 81 è¡Œï¼š

```typescript
const targetSize = 0.4  // é»˜è®¤å¤§å°ï¼Œå¯ä»¥æ”¹ä¸º 0.3ï¼ˆæ›´å°ï¼‰æˆ– 0.6ï¼ˆæ›´å¤§ï¼‰
```

### â“ åå…‰æ•ˆæœä¸æ˜æ˜¾ï¼Ÿ

ç¡®ä¿åœ¨ Spline å¯¼å‡ºæ—¶ï¼š
1. âœ… å‹¾é€‰äº† "Include Materials"
2. âœ… æè´¨è®¾ç½®äº† Metalness å’Œ Roughness
3. âœ… ä½¿ç”¨äº†ç¯å¢ƒè´´å›¾ï¼ˆEnvironment Mapï¼‰

### â“ æ¨¡å‹æ²¡æœ‰æ˜¾ç¤ºï¼Ÿ

æ£€æŸ¥ï¼š
1. æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼ˆ`/models/bead-xxx.glb`ï¼‰
2. æ–‡ä»¶æ˜¯å¦çœŸçš„åœ¨ `public/models/` ç›®å½•ä¸‹
3. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰åŠ è½½é”™è¯¯ï¼š
```
Failed to load: /models/bead-xxx.glb
```

### â“ æƒ³è¦ä½¿ç”¨ä¸åŒçš„ Spline åœºæ™¯ï¼Ÿ

1. åœ¨ Spline ä¸­åˆ›å»ºæ–°çš„ 3D è®¾è®¡
2. å¯¼å‡ºä¸º GLB
3. é‡å¤ä¸Šè¿°æ­¥éª¤
4. å¯ä»¥æ·»åŠ æ›´å¤šç å­ï¼ˆID: 11, 12, ...ï¼‰

---

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### å‡å°æ–‡ä»¶å¤§å°

å¯¼å‡ºæ—¶å¯ç”¨ **Draco Compression**ï¼š
```
Export â†’ GLB â†’ âœ… Draco Compression
```

æ–‡ä»¶å¤§å°å¯ä»¥å‡å°‘ 70-90%ï¼

### é¢„åŠ è½½æ¨¡å‹

ç¼–è¾‘ `src/components/editor/spline-bead-mesh.tsx`ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ï¼š

```typescript
// é¢„åŠ è½½ GLB æ¨¡å‹ä»¥æå‡æ€§èƒ½
useGLTF.preload('/models/bead-pink.glb')
useGLTF.preload('/models/bead-purple.glb')
```

---

## ğŸ“¸ ç¤ºä¾‹å¯¹æ¯”

### å¯¼å‡ºå‰ï¼ˆå ä½ç¬¦ï¼‰
- ç®€å•çš„åŒå±‚çƒä½“
- åŸºç¡€åå…‰æ•ˆæœ
- 4 ä¸ªé‡‘è‰²å…‰ç‚¹

### å¯¼å‡ºåï¼ˆçœŸå®æ¨¡å‹ï¼‰
- âœ¨ å®Œæ•´çš„ Spline 3D è®¾è®¡
- ğŸŒŸ æ‰€æœ‰æè´¨å’Œåå…‰æ•ˆæœ
- ğŸ’ ä¸ Spline ç¼–è¾‘å™¨ä¸­å®Œå…¨ä¸€è‡´

---

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æ£€æŸ¥æ–‡ä»¶æ ¼å¼**ï¼šå¿…é¡»æ˜¯ `.glb`ï¼Œä¸æ˜¯ `.gltf` æˆ– `.obj`
2. **æ£€æŸ¥æ–‡ä»¶è·¯å¾„**ï¼šä» `/models/` å¼€å§‹ï¼Œä¸è¦åŒ…å« `public`
3. **æŸ¥çœ‹æ§åˆ¶å°**ï¼šæµè§ˆå™¨ F12 â†’ Consoleï¼ŒæŸ¥çœ‹é”™è¯¯ä¿¡æ¯
4. **æ¸…é™¤ç¼“å­˜**ï¼šåˆ é™¤ `.next` æ–‡ä»¶å¤¹å¹¶é‡å¯æœåŠ¡å™¨
   ```bash
   rm -rf .next && npm run dev
   ```

---

---

## ğŸ¨ é«˜çº§æè´¨é…ç½®ï¼ˆæ–°åŠŸèƒ½ï¼ï¼‰

### æè´¨ç³»ç»Ÿæ¦‚è¿°

DIY Chain ç°åœ¨æ”¯æŒé«˜çº§ PBR æè´¨ç³»ç»Ÿï¼Œèƒ½å¤Ÿæ›´å¥½åœ°è¿˜åŸ Spline ä¸­çš„æè´¨æ•ˆæœã€‚æˆ‘ä»¬æä¾›äº† 7 ç§é¢„è®¾æè´¨ç±»å‹å’Œè‡ªå®šä¹‰é…ç½®åŠŸèƒ½ã€‚

### 5.1 å¯ç”¨çš„æè´¨é¢„è®¾

| é¢„è®¾ç±»å‹ | é€‚ç”¨åœºæ™¯ | ç‰¹ç‚¹ |
|---------|---------|------|
| `glass` | ç»ç’ƒç  | é«˜é€æ˜åº¦ã€ä¸­ç­‰æŠ˜å°„ã€ç¯å¢ƒåå°„ |
| `crystal` | æ°´æ™¶ç  | è¶…é«˜é€æ˜åº¦ã€å¼ºæŠ˜å°„ã€è™¹å½©æ•ˆæœ |
| `metal` | é‡‘å±ç  | é«˜é‡‘å±åº¦ã€é•œé¢åå°„ã€ä½ç²—ç³™åº¦ |
| `acrylic` | äºšå…‹åŠ›ç  | ä¸é€æ˜ã€é«˜å…‰æ³½ã€å¡‘æ–™è´¨æ„Ÿ |
| `ceramic` | é™¶ç“·ç  | å…‰æ»‘è¡¨é¢ã€æ¸…æ¼†æ•ˆæœ |
| `pearl` | çç ç  | è™¹å½©å…‰æ³½ã€æŸ”å’Œåå°„ |
| `resin` | æ ‘è„‚ç  | åŠé€æ˜ã€æŸ”å’Œè´¨æ„Ÿ |

### 5.2 æ·»åŠ æè´¨é…ç½®

åœ¨ç å­é…ç½®ä¸­æ·»åŠ  `materialConfig` å­—æ®µï¼š

#### ç¤ºä¾‹ 1ï¼šä½¿ç”¨é¢„è®¾ï¼ˆæ¨èï¼‰

```typescript
{
  id: "9",
  name: "Flow æµåŠ¨ç ",
  material: "glass",
  shape: "spline",
  baseColor: "#FF6DAF",
  sizeMm: 12,
  weightG: 0.6,
  splineUrl: "/models/flow_4.glb",
  // âœ¨ æ·»åŠ æè´¨é…ç½® - ä½¿ç”¨ç»ç’ƒé¢„è®¾
  materialConfig: {
    presetType: "glass",  // ä½¿ç”¨ç»ç’ƒé¢„è®¾
  },
  priceCents: 1000,
  isActive: true,
}
```

#### ç¤ºä¾‹ 2ï¼šè‡ªå®šä¹‰å‚æ•°

```typescript
{
  id: "10",
  name: "ç´«ç½—å…°å¹»ç ",
  material: "crystal",
  shape: "spline",
  baseColor: "#B48CFF",
  sizeMm: 14,
  weightG: 0.7,
  splineUrl: "/models/crystal_bead.glb",
  // âœ¨ è‡ªå®šä¹‰æè´¨å‚æ•°
  materialConfig: {
    presetType: "crystal",    // åŸºäºæ°´æ™¶é¢„è®¾
    transmission: 0.98,       // é€å°„åº¦ (0-1)
    ior: 1.54,                // æŠ˜å°„ç‡
    roughness: 0.02,          // ç²—ç³™åº¦ (è¶Šä½è¶Šå…‰æ»‘)
    metalness: 0,             // é‡‘å±åº¦
    iridescence: 0.3,         // è™¹å½©æ•ˆæœ (0-1)
    envMapIntensity: 2.5,     // ç¯å¢ƒè´´å›¾å¼ºåº¦
  },
  priceCents: 1200,
  isActive: true,
}
```

#### ç¤ºä¾‹ 3ï¼šé‡‘å±ç 

```typescript
{
  id: "11",
  name: "é»„é‡‘ç ",
  material: "metal-gold",
  shape: "spline",
  baseColor: "#FFD700",
  splineUrl: "/models/gold_bead.glb",
  materialConfig: {
    presetType: "metal",
    metalness: 1.0,           // å®Œå…¨é‡‘å±
    roughness: 0.15,          // è½»å¾®ç²—ç³™ï¼ˆä¸æ˜¯å®Œç¾é•œé¢ï¼‰
    preserveColor: true,      // ä¿ç•™ GLB åŸå§‹é¢œè‰²
  },
}
```

#### ç¤ºä¾‹ 4ï¼šçç ç 

```typescript
{
  id: "12",
  name: "çç ",
  material: "pearl",
  shape: "spline",
  baseColor: "#FFF8DC",
  splineUrl: "/models/pearl.glb",
  materialConfig: {
    presetType: "pearl",
    iridescence: 0.7,         // å¼ºè™¹å½©æ•ˆæœ
    sheen: 0.8,               // å…‰æ³½åº¦
    roughness: 0.4,           // æŸ”å’Œè¡¨é¢
  },
}
```

### 5.3 å…³é”®å‚æ•°è¯¦è§£

#### åŸºç¡€ PBR å‚æ•°

```typescript
metalness: 0-1     // é‡‘å±åº¦ï¼š0=éé‡‘å±ï¼ˆå¡‘æ–™ã€ç»ç’ƒï¼‰ï¼Œ1=å®Œå…¨é‡‘å±
roughness: 0-1     // ç²—ç³™åº¦ï¼š0=é•œé¢ï¼Œ1=å®Œå…¨ç²—ç³™

// ç¤ºä¾‹
metalness: 0, roughness: 0.05  â†’ å…‰æ»‘ç»ç’ƒ
metalness: 1, roughness: 0.15  â†’ æŠ›å…‰é‡‘å±
metalness: 0, roughness: 0.8   â†’ ç£¨ç ‚å¡‘æ–™
```

#### é€æ˜åº¦å‚æ•°

```typescript
transparent: true/false    // æ˜¯å¦å¯ç”¨é€æ˜
opacity: 0-1              // ä¸é€æ˜åº¦ï¼š0=å®Œå…¨é€æ˜ï¼Œ1=å®Œå…¨ä¸é€æ˜
transmission: 0-1         // é€å°„åº¦ï¼šå…‰çº¿ç©¿é€ç¨‹åº¦
ior: 1.0-2.5              // æŠ˜å°„ç‡ï¼šç©ºæ°”1.0ï¼Œæ°´1.33ï¼Œç»ç’ƒ1.5ï¼Œé’»çŸ³2.4

// å¸¸ç”¨æŠ˜å°„ç‡
ior: 1.5   â†’ æ™®é€šç»ç’ƒ
ior: 1.54  â†’ æ°´æ™¶
ior: 1.49  â†’ äºšå…‹åŠ›
ior: 2.4   â†’ é’»çŸ³æ•ˆæœ
```

#### ç‰¹æ®Šæ•ˆæœ

```typescript
clearcoat: 0-1            // æ¸…æ¼†å±‚ï¼šé™¶ç“·ã€æ±½è½¦æ¼†æ•ˆæœ
iridescence: 0-1          // è™¹å½©æ•ˆæœï¼šçç ã€è‚¥çš‚æ³¡
sheen: 0-1                // å…‰æ³½åº¦ï¼šç»‡ç‰©ã€ç»’æ¯›æ•ˆæœ
envMapIntensity: 0-5      // ç¯å¢ƒåå°„å¼ºåº¦

// ç¤ºä¾‹
clearcoat: 1.0            â†’ é™¶ç“·ç 
iridescence: 0.7          â†’ çç è™¹å½©
sheen: 0.8                â†’ å¤©é¹…ç»’è´¨æ„Ÿ
```

### 5.4 åœ¨ Spline ä¸­å‡†å¤‡æè´¨

ä¸ºäº†è·å¾—æœ€ä½³æ•ˆæœï¼Œåœ¨ Spline ä¸­å¯¼å‡ºå‰ï¼š

#### âœ… æ¨èè®¾ç½®

1. **ä½¿ç”¨ PBR æè´¨**
   - è®¾ç½® Metalnessï¼ˆé‡‘å±åº¦ï¼‰
   - è®¾ç½® Roughnessï¼ˆç²—ç³™åº¦ï¼‰
   - å¯ç”¨ Environment Mapï¼ˆç¯å¢ƒè´´å›¾ï¼‰

2. **é¢œè‰²è®¾ç½®**
   - å¦‚æœæƒ³ä¿ç•™ Spline ä¸­çš„é¢œè‰²ï¼Œè®¾ç½® `preserveColor: true`
   - å¦åˆ™ä¼šä½¿ç”¨ `baseColor` è¦†ç›–

3. **é€æ˜æè´¨**
   - è®¾ç½® Opacityï¼ˆä¸é€æ˜åº¦ï¼‰
   - å¯ç”¨ Transparencyï¼ˆé€æ˜ï¼‰
   - è°ƒæ•´ IORï¼ˆæŠ˜å°„ç‡ï¼‰

4. **å¯¼å‡ºé€‰é¡¹**
   ```
   âœ… Include Materials
   âœ… Include Textures
   âœ… Draco Compressionï¼ˆå¯é€‰ï¼Œå‡å°æ–‡ä»¶å¤§å°ï¼‰
   ```

#### âŒ é¿å…çš„é—®é¢˜

- âŒ ä¸è¦ä½¿ç”¨ Basic Materialï¼ˆä¼šè¢«è‡ªåŠ¨è½¬æ¢ï¼Œå¯èƒ½ä¸¢å¤±æ•ˆæœï¼‰
- âŒ ä¸è¦è¿‡åº¦å¤æ‚çš„æè´¨ï¼ˆä¼šå½±å“æ€§èƒ½ï¼‰
- âŒ æ–‡ä»¶å¤§å°è¶…è¿‡ 500KBï¼ˆè€ƒè™‘ä¼˜åŒ–æˆ–å¯ç”¨ Draco å‹ç¼©ï¼‰

### 5.5 ä½¿ç”¨æè´¨è°ƒè¯•å·¥å…·

æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¼€å‘å·¥å…·æ¥å¸®åŠ©ä½ è°ƒè¯•æè´¨ï¼š

#### å¯ç”¨è°ƒè¯•å·¥å…·

ç¼–è¾‘ `src/app/editor/page.tsx`ï¼Œåœ¨ return è¯­å¥ä¸­æ·»åŠ ï¼š

```typescript
import { MaterialDebugger } from '@/components/dev/material-debugger'

export default function EditorPage() {
  return (
    <div>
      {/* ... å…¶ä»–ç»„ä»¶ */}

      {/* å¼€å‘ç¯å¢ƒä¸­æ˜¾ç¤ºæè´¨è°ƒè¯•å™¨ */}
      {process.env.NODE_ENV === 'development' && <MaterialDebugger />}
    </div>
  )
}
```

#### ä½¿ç”¨è°ƒè¯•å™¨

1. æŒ‰ `Ctrl+M` æ‰“å¼€æè´¨è°ƒè¯•é¢æ¿
2. æŸ¥çœ‹æ‰€æœ‰ Spline ç å­çš„æè´¨é…ç½®
3. æŸ¥çœ‹æµè§ˆå™¨ Console è·å–è¯¦ç»†çš„æè´¨åŠ è½½æ—¥å¿—
4. å¯¹æ¯”ä¸åŒé¢„è®¾çš„æ•ˆæœ

### 5.6 æ‰¹é‡å¯¼å…¥å·¥å…·

æˆ‘ä»¬æä¾›äº†æ‰¹é‡å¯¼å…¥ GLB æ¨¡å‹çš„å·¥å…·ï¼Œè‡ªåŠ¨ç”Ÿæˆæè´¨é…ç½®ï¼š

#### ä½¿ç”¨æ–¹æ³•

```bash
# 1. å°†æ‰€æœ‰ GLB æ–‡ä»¶æ”¾åˆ°ä¸€ä¸ªç›®å½•
mkdir raw-models
# å°†ä½ çš„ GLB æ–‡ä»¶å¤åˆ¶åˆ° raw-models/

# 2. è¿è¡Œå¯¼å…¥å·¥å…·
npm run import-models -- --input ./raw-models --copy

# 3. æŸ¥çœ‹ç”Ÿæˆçš„ catalog
cat generated-catalog.json

# 4. å°† catalog æ¡ç›®å¤åˆ¶åˆ° src/app/editor/page.tsx
```

#### å·¥å…·åŠŸèƒ½

- âœ… è‡ªåŠ¨æ‰«æ GLB æ–‡ä»¶
- âœ… éªŒè¯æ–‡ä»¶æ ¼å¼
- âœ… æ ¹æ®æ–‡ä»¶åæ¨æ–­æè´¨ç±»å‹
- âœ… ç”Ÿæˆå®Œæ•´çš„ catalog é…ç½®ï¼ˆåŒ…å« materialConfigï¼‰
- âœ… è‡ªåŠ¨å¤åˆ¶æ–‡ä»¶åˆ° public/models/
- âœ… æ˜¾ç¤ºæ–‡ä»¶å¤§å°å’Œç»Ÿè®¡ä¿¡æ¯

#### ç¤ºä¾‹è¾“å‡º

```json
[
  {
    "id": "spline-1",
    "name": "Glass Bead",
    "material": "glass",
    "shape": "spline",
    "baseColor": "#63B3FF",
    "sizeMm": 12,
    "weightG": 0.6,
    "splineUrl": "/models/glass_bead.glb",
    "materialConfig": {
      "presetType": "glass",
      "transmission": 0.95,
      "ior": 1.5
    },
    "priceCents": 1000,
    "isActive": true
  }
]
```

### 5.7 æè´¨ä¼˜åŒ–å»ºè®®

#### æ€§èƒ½ä¼˜åŒ–

1. **æ–‡ä»¶å¤§å°**
   - ç›®æ ‡ï¼š< 200KB per GLB
   - å¯ç”¨ Draco å‹ç¼©å¯å‡å°‘ 70-90%
   - ä¼˜åŒ–çº¹ç†å¤§å°ï¼ˆå»ºè®® 512x512 æˆ– 1024x1024ï¼‰

2. **æè´¨å¤æ‚åº¦**
   - æ¯ä¸ªç å­ â‰¤ 3 ä¸ªæè´¨
   - é¿å…è¿‡å¤šçš„é€æ˜å±‚å 
   - ç§»åŠ¨ç«¯è‡ªåŠ¨ç¦ç”¨éƒ¨åˆ†é«˜çº§æ•ˆæœ

3. **é¢„åŠ è½½**
   ```typescript
   // åœ¨ spline-bead-mesh.tsx æœ«å°¾æ·»åŠ 
   useGLTF.preload('/models/your-bead.glb')
   ```

#### è§†è§‰ä¼˜åŒ–

1. **ç»ç’ƒ/æ°´æ™¶æè´¨**
   ```typescript
   transmission: 0.9-0.98  // é«˜é€å°„
   roughness: 0.01-0.05    // æä½ç²—ç³™åº¦
   ior: 1.5-1.54           // ç»ç’ƒæŠ˜å°„ç‡
   ```

2. **é‡‘å±æè´¨**
   ```typescript
   metalness: 1.0          // å®Œå…¨é‡‘å±
   roughness: 0.1-0.3      // æ ¹æ®æŠ›å…‰ç¨‹åº¦
   envMapIntensity: 1.5-2.0 // å¼ºç¯å¢ƒåå°„
   ```

3. **çç æ•ˆæœ**
   ```typescript
   iridescence: 0.6-0.8    // è™¹å½©
   sheen: 0.7-0.9          // å…‰æ³½
   roughness: 0.3-0.5      // æŸ”å’Œè¡¨é¢
   ```

### 5.8 å¸¸è§æè´¨é—®é¢˜

#### â“ æè´¨çœ‹èµ·æ¥å’Œ Spline ä¸ä¸€æ ·ï¼Ÿ

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥ Spline å¯¼å‡ºæ—¶æ˜¯å¦å‹¾é€‰ "Include Materials"
2. è®¾ç½® `preserveColor: true` ä¿ç•™åŸå§‹é¢œè‰²
3. è°ƒæ•´ `envMapIntensity` ç¯å¢ƒè´´å›¾å¼ºåº¦
4. æ£€æŸ¥æµè§ˆå™¨ Console æ—¥å¿—ï¼ŒæŸ¥çœ‹æè´¨å‚æ•°

#### â“ é€æ˜æ•ˆæœä¸å¯¹ï¼Ÿ

**è§£å†³æ–¹æ¡ˆï¼š**
```typescript
materialConfig: {
  transparent: true,      // ç¡®ä¿å¯ç”¨é€æ˜
  opacity: 0.3,           // è°ƒæ•´ä¸é€æ˜åº¦
  transmission: 0.95,     // è°ƒæ•´é€å°„åº¦
  ior: 1.5,               // è°ƒæ•´æŠ˜å°„ç‡
}
```

#### â“ é‡‘å±ä¸å¤Ÿäº®ï¼Ÿ

**è§£å†³æ–¹æ¡ˆï¼š**
```typescript
materialConfig: {
  metalness: 1.0,         // å®Œå…¨é‡‘å±
  roughness: 0.1,         // é™ä½ç²—ç³™åº¦ï¼ˆæ›´å…‰æ»‘ï¼‰
  envMapIntensity: 2.5,   // æé«˜ç¯å¢ƒåå°„
}
```

#### â“ é¢œè‰²è¢«è¦†ç›–äº†ï¼Ÿ

**è§£å†³æ–¹æ¡ˆï¼š**
```typescript
materialConfig: {
  preserveColor: true,    // ä¿ç•™ GLB åŸå§‹é¢œè‰²
}
```

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ çš„ Spline 3D ç å­å·²ç»å®Œç¾é›†æˆåˆ° DIY Chain é¡¹ç›®ä¸­ï¼Œå¹¶ä¸”æ‹¥æœ‰ä¸“ä¸šçº§çš„æè´¨æ¸²æŸ“æ•ˆæœï¼

äº«å—åˆ›ä½œçš„ä¹è¶£å§ï¼âœ¨

---

## ğŸ“š å»¶ä¼¸é˜…è¯»

- [Three.js PBR æè´¨æ–‡æ¡£](https://threejs.org/docs/#api/en/materials/MeshPhysicalMaterial)
- [Spline å¯¼å‡ºæŒ‡å—](https://docs.spline.design/d2fa187e82e344c0aae81ad99565ee13)
- [glTF æ ¼å¼è§„èŒƒ](https://www.khronos.org/gltf/)
